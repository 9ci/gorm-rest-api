buildscript {
    repositories {
        mavenLocal()
        maven { url "https://repo.grails.org/grails/core" }
    }
    dependencies {
        classpath "org.grails.plugins:views-gradle:$grailsViewsVersion"
    }
}


apply plugin: 'codenarc'

repositories {
    maven { url "http://repo.9ci.com/artifactory/grails-plugins" }
}

configurations.all {
    resolutionStrategy.cacheDynamicVersionsFor 10, 'minutes'
}

String seleniumVersion = "3.8.1"

dependencies {

    /*   compile "org.grails.plugins:hibernate5"
       compile "org.hibernate:hibernate-core:5.1.3.Final"
       compile "org.hibernate:hibernate-ehcache:5.1.3.Final"

       compile "org.grails.plugins:views-json"
       compile "org.grails.plugins:views-json-templates"

       codenarc 'org.codenarc:CodeNarc:0.25.2'*/

    compileOnly "org.grails:grails-datastore-rest-client"

    testRuntime "org.seleniumhq.selenium:selenium-htmlunit-driver:2.47.1"
    codenarc 'org.codenarc:CodeNarc:0.27.0'

    compile "org.grails.plugins:gorm-tools:3.3.2-SNAPSHOT"
    compile "org.grails:grails-plugin-testing"
    compile "org.grails.plugins:geb"

}

bootRun {
    jvmArgs('-Dspring.output.ansi.enabled=always')
    addResources = true
}

codenarc {
    toolVersion = '0.27.0'
    config = project.resources.text.fromString("${commonBuild}/codenarc/rules.groovy".toURL().text)
    reportFormat = 'html'
    //ignoreFailures = true

    maxPriority1Violations = 5
    maxPriority2Violations = 10
    maxPriority3Violations = 14
}