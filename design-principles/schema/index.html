
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <meta name="description" content="Utils and Rest Stuff">
      
      
        <link rel="canonical" href="http://9ci.github.io/gorm-rest-api/design-principles/schema/">
      
      
        <meta name="author" content="Joshua Burnett">
      
      
        <link rel="shortcut icon" href="../../assets/images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-components-1.7.6">
    
    
      
        <title>OpenAPI / Schema - Gorm Rest Api</title>
      
    
    
      <script src="../../assets/javascripts/modernizr.js"></script>
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application.palette.css">
      
      <link rel="stylesheet" href="../../assets/stylesheets/material-components-web.min.css">
      <link rel="stylesheet" href="../../assets/stylesheets/mdc-web.css">
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    
  </head>
  
  
  
  
    <body data-md-color-primary="blue-grey" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <a href="http://9ci.github.io/gorm-rest-api/" title="Gorm Rest Api" class="md-icon md-icon--home md-header-nav__button">
          </a>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  Design Principles
                </span>
              
            
            OpenAPI / Schema
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">close</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result" data-md-lang-search="">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/9ci/gorm-rest-api" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      9ci/gorm-rest-api
    </div>
  </a>

          </div>
        </div>
      
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    
      <i class="md-icon md-icon--home md-nav__button"></i>
    
    Gorm Rest Api
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/9ci/gorm-rest-api" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      9ci/gorm-rest-api
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../quick-start/" title="Quick Start Guide" class="md-nav__link">
      Quick Start Guide
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Design Principles
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Design Principles
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../swagger-openapi/" title="OpenAPI/Schema Notes" class="md-nav__link">
      OpenAPI/Schema Notes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../guidelines/" title="Guidelines" class="md-nav__link">
      Guidelines
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../object-props/" title="Object, Naming, Props" class="md-nav__link">
      Object, Naming, Props
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-method-mapping/" title="Http Method Mapping" class="md-nav__link">
      Http Method Mapping
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        OpenAPI / Schema
      </label>
    
    <a href="./" title="OpenAPI / Schema" class="md-nav__link md-nav__link--active">
      OpenAPI / Schema
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#may-use-a-common-money-object" title="May Use a Common Money Object" class="md-nav__link">
    May Use a Common Money Object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-common-field-names-and-semantics" title="Use common field names and semantics" class="md-nav__link">
    Use common field names and semantics
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generic-fields" title="Generic Fields" class="md-nav__link">
    Generic Fields
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#address-fields" title="Address Fields" class="md-nav__link">
    Address Fields
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bookmust-follow-hypertext-control-conventions" title="{{ book.must }} Follow Hypertext Control Conventions" class="md-nav__link">
    {{ book.must }} Follow Hypertext Control Conventions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bookmust-use-problem-json" title="{{ book.must }} Use Problem JSON" class="md-nav__link">
    {{ book.must }} Use Problem JSON
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bookmust-do-not-expose-stack-traces" title="{{ book.must }} Do not expose Stack Traces" class="md-nav__link">
    {{ book.must }} Do not expose Stack Traces
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-formats" title="Data Formats" class="md-nav__link">
    Data Formats
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bookmust-use-json-to-encode-structured-data" title="{{ book.must }} Use JSON to Encode Structured Data" class="md-nav__link">
    {{ book.must }} Use JSON to Encode Structured Data
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bookmay-use-non-json-media-types-for-binary-data-or-alternative-content-representations" title="{{ book.may }} Use non JSON Media Types for Binary Data or Alternative Content Representations" class="md-nav__link">
    {{ book.may }} Use non JSON Media Types for Binary Data or Alternative Content Representations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bookmust-use-standard-date-and-time-formats" title="{{ book.must }} Use Standard Date and Time Formats" class="md-nav__link">
    {{ book.must }} Use Standard Date and Time Formats
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#json-payload" title="JSON Payload" class="md-nav__link">
    JSON Payload
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-headers" title="HTTP headers" class="md-nav__link">
    HTTP headers
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bookmay-use-standards-for-country-language-and-currency-codes" title="{{ book.may }} Use Standards for Country, Language and Currency Codes" class="md-nav__link">
    {{ book.may }} Use Standards for Country, Language and Currency Codes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bookmust-define-format-for-type-number-and-integer" title="{{ book.must }} Define Format for Type Number and Integer" class="md-nav__link">
    {{ book.must }} Define Format for Type Number and Integer
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bookshould-prefer-standard-media-type-name-applicationjson" title="{{ book.should }} Prefer standard Media type name application/json" class="md-nav__link">
    {{ book.should }} Prefer standard Media type name application/json
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../api-docs-template/" title="Sample API Docs" class="md-nav__link">
      Sample API Docs
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorial/stock/" title="Grails OOB(out of the box)" class="md-nav__link">
      Grails OOB(out of the box)
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../glossary/" title="Glossary" class="md-nav__link">
      Glossary
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#may-use-a-common-money-object" title="May Use a Common Money Object" class="md-nav__link">
    May Use a Common Money Object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-common-field-names-and-semantics" title="Use common field names and semantics" class="md-nav__link">
    Use common field names and semantics
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generic-fields" title="Generic Fields" class="md-nav__link">
    Generic Fields
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#address-fields" title="Address Fields" class="md-nav__link">
    Address Fields
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bookmust-follow-hypertext-control-conventions" title="{{ book.must }} Follow Hypertext Control Conventions" class="md-nav__link">
    {{ book.must }} Follow Hypertext Control Conventions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bookmust-use-problem-json" title="{{ book.must }} Use Problem JSON" class="md-nav__link">
    {{ book.must }} Use Problem JSON
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bookmust-do-not-expose-stack-traces" title="{{ book.must }} Do not expose Stack Traces" class="md-nav__link">
    {{ book.must }} Do not expose Stack Traces
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-formats" title="Data Formats" class="md-nav__link">
    Data Formats
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bookmust-use-json-to-encode-structured-data" title="{{ book.must }} Use JSON to Encode Structured Data" class="md-nav__link">
    {{ book.must }} Use JSON to Encode Structured Data
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bookmay-use-non-json-media-types-for-binary-data-or-alternative-content-representations" title="{{ book.may }} Use non JSON Media Types for Binary Data or Alternative Content Representations" class="md-nav__link">
    {{ book.may }} Use non JSON Media Types for Binary Data or Alternative Content Representations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bookmust-use-standard-date-and-time-formats" title="{{ book.must }} Use Standard Date and Time Formats" class="md-nav__link">
    {{ book.must }} Use Standard Date and Time Formats
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#json-payload" title="JSON Payload" class="md-nav__link">
    JSON Payload
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-headers" title="HTTP headers" class="md-nav__link">
    HTTP headers
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bookmay-use-standards-for-country-language-and-currency-codes" title="{{ book.may }} Use Standards for Country, Language and Currency Codes" class="md-nav__link">
    {{ book.may }} Use Standards for Country, Language and Currency Codes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bookmust-define-format-for-type-number-and-integer" title="{{ book.must }} Define Format for Type Number and Integer" class="md-nav__link">
    {{ book.must }} Define Format for Type Number and Integer
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bookshould-prefer-standard-media-type-name-applicationjson" title="{{ book.should }} Prefer standard Media type name application/json" class="md-nav__link">
    {{ book.should }} Prefer standard Media type name application/json
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div id="article-content" class="md-content"> 
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/9ci/gorm-rest-api/edit/master/docs/design-principles/schema.md" title="Edit this page" class="md-icon md-content__icon">edit</a>
                
                
                <h1 id="common-data-types">Common Data Types<a class="headerlink" href="#common-data-types" title="Permanent link">&para;</a></h1>
<p>Definitions of data objects that are good candidates for wider usage:</p>
<h2 id="may-use-a-common-money-object">May Use a Common Money Object<a class="headerlink" href="#may-use-a-common-money-object" title="Permanent link">&para;</a></h2>
<p>Use the following common money structure:</p>
<div class="codehilite"><pre><span></span>Money:
  type: object
  properties:
    amount:
      type: number
      description: Amount expressed as a decimal number of major currency units
      format: decimal
      example: 99.95
    currency:
      type: string
      description: 3 letter currency code as defined by ISO-4217
      format: iso-4217
      example: EUR
  required:
    - amount
    - currency
</pre></div>


<p>The decimal values for "amount" describe unit and subunit of the currency in a single value, where
the digits before the decimal point are for the major unit and the digits after the decimal point are
for the minor unit. Note that some business cases (e.g. transactions in Bitcoin) call for a higher
precision, so applications must be prepared to accept values with unlimited precision, unless
explicitly stated otherwise in the API specification.
Examples for correct representations (in EUR):</p>
<ul>
<li><code>42.20</code> or <code>42.2</code> = 42 Euros, 20 Cent</li>
<li><code>0.23</code> = 23 Cent</li>
<li><code>42.0</code> or <code>42</code> = 42 Euros</li>
<li><code>1024.42</code> = 1024 Euros, 42 Cent</li>
<li><code>1024.4225</code> = 1024 Euros, 42.25 Cent</li>
</ul>
<p>Make sure that you don’t convert the “amount” field to <code>float</code> / <code>double</code> types when implementing
this interface in a specific language or when doing calculations. Otherwise, you might lose
precision. Instead, use exact formats like
Java’s <a href="https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html"><code>BigDecimal</code></a>.
See <a href="http://stackoverflow.com/a/3730040/342852">Stack Overflow</a> for more info.</p>
<p>Some JSON parsers (NodeJS’s, for example) convert numbers to floats by default. After discussing the
<a href="https://docs.google.com/spreadsheets/d/12wTj-2w39f69XZGwRDrosNc1yWPwQpGgEs_DCt5ODaQ">pros and cons</a>,
we’ve decided on "decimal" as our amount format. It is not a standard OpenAPI format, but should
help us to avoid parsing numbers as float / doubles.</p>
<h2 id="use-common-field-names-and-semantics">Use common field names and semantics<a class="headerlink" href="#use-common-field-names-and-semantics" title="Permanent link">&para;</a></h2>
<p>There exist a variety of field types that are required in multiple places. To achieve consistency across all API implementations, you must use common field names and semantics whenever applicable.</p>
<h3 id="generic-fields">Generic Fields<a class="headerlink" href="#generic-fields" title="Permanent link">&para;</a></h3>
<p>There are some data fields that come up again and again in API data:</p>
<ul>
<li>
<p><code>id</code>: the identity of the object. If used, IDs must opaque strings and not numbers. IDs are unique within some documented context, are stable and don't change for a given object once assigned, and are never recycled cross entities.</p>
</li>
<li>
<p><code>xyzId</code>: an attribute within one object holding the identifier of another object must use a name that corresponds to the type of the referenced object or the relationship to the referenced object followed by <code>Id</code> (e.g. <code>customerId</code> not <code>customer_number</code>; <code>parentNodeId</code> for the reference to a parent node from a child node, even if both have the type <code>Node</code>)</p>
</li>
<li>
<p><code>createdDate</code>: when the object was created. If used, this must be a <code>date-time</code> construct.</p>
</li>
<li>
<p><code>updateDate</code>: when the object was updated. If used, this must be a <code>date-time</code> construct.</p>
</li>
<li>
<p><code>_type</code>: the kind of thing this object is. If used, the type of this field should be a string. Types allow runtime information on the entity provided that otherwise requires examining the Open API file.</p>
</li>
</ul>
<p>Example JSON schema:</p>
<div class="codehilite"><pre><span></span>tree_node:
  type: object
  properties:
    id:
      description: the identifier of this node
      type: string
    createdDate:
      description: when got this node created
      type: string
      format: &#39;date-time&#39;
    editedDate:
      description: when got this node last updated
      type: string
      format: &#39;date-time&#39;
    \_type:
      type: string
      enum: [ &#39;LEAF&#39;, &#39;NODE&#39; ]
    parentNodeId:
      description: the identifier of the parent node of this node
      type: string
  example:
    id: &#39;123435&#39;
    created: &#39;2017-04-12T23:20:50.52Z&#39;
    modified: &#39;2017-04-12T23:20:50.52Z&#39;
    type: &#39;LEAF&#39;
    parent_node_id: &#39;534321&#39;
</pre></div>


<p>These properties are not always strictly necessary, but making them idiomatic allows API client developers to build up a common understanding of Zalando's resources. There is very little utility for API consumers in having different names or value types for these fields across APIs.</p>
<h3 id="address-fields">Address Fields<a class="headerlink" href="#address-fields" title="Permanent link">&para;</a></h3>
<p>Address structures play a role in different functional and use-case contexts, including country
variances. All attributes that relate to address information should follow the naming
and semantics defined below.</p>
<div class="codehilite"><pre><span></span>addressee:
    description:
      a (natural or legal) person that gets addressed
    type: object
    required:
      - firstName
      - lastName
      - street
      - city
      - zip
      - countryCode
    properties:
      salutation:
        description: |
          a salutation and/or title used for personal contacts to some addressee;
          not to be confused with the gender information!
        type: string
        example: Mr
      firstName:
        description: |
          given name(s) or first name(s) of a person; may also include the middle names.
        type: string
        example: Hans Dieter
      lastName:
        description: |
          family name(s) or surname(s) of a person
        type: string
        example: Mustermann
      businessName:
        description: |
          company name of the business organization. Used when a business is the actual
          addressee; for personal shipments to office addresses, use `care_of` instead.
        type: string
        example: Consulting Services GmbH

address:
    description:
      an address of a location/destination
    type: object
    properties:
      street:
        description: |
          the full street address including house number and street name
        type: string
        example: Schönhauser Allee 103
      additional:
        description: |
          further details like building name, suite, apartment number, etc.
        type: string
        example: 2. Hinterhof rechts
      city:
        description: |
          name of the city / locality
        type: string
        example: Berlin
      zip:
        description: |
          zip code or postal code
        type: string
        example: 14265
      countryCode:
        description: |
          the country code according to
          [iso-3166-1-alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)
        type: string
        example: DE
    required:
      - street
      - city
      - zip
      - countryCode
</pre></div>


<p>Grouping and cardinality of fields in specific data types may vary based on the specific use case
(e.g. combining addressee and address fields into a single type when modeling an address label vs distinct addressee and address types when modeling users and their addresses).</p>
<h2 id="bookmust-follow-hypertext-control-conventions">{{ book.must }} Follow Hypertext Control Conventions<a class="headerlink" href="#bookmust-follow-hypertext-control-conventions" title="Permanent link">&para;</a></h2>
<p>APIs that provide hypertext controls (links) to interconnect API resources must follow
the conventions for naming and modeling of hypertext controls as defined in section <a href="../../hyper-media/Hypermedia.html">Hypermedia</a>.</p>
<h2 id="bookmust-use-problem-json">{{ book.must }} Use Problem JSON<a class="headerlink" href="#bookmust-use-problem-json" title="Permanent link">&para;</a></h2>
<p><a href="http://tools.ietf.org/html/rfc7807">RFC 7807</a> defines the media type <code>application/problem+json</code>.
Operations should return that (together with a suitable status code) when any problem
occurred during processing and you can give more details than the status code itself
can supply, whether it be caused by the client or the server (i.e. both for 4xx or 5xx errors).</p>
<p>A previous version of this guideline (before the publication of that RFC and the
registration of the media type) told to return <code>application/x.problem+json</code> in these
cases (with the same contents).
Servers for APIs defined before this change should pay attention to the <code>Accept</code> header sent
by the client and set the <code>Content-Type</code> header of the problem response correspondingly.
Clients of such APIs should accept both media types.</p>
<p>APIs may define custom problems types with extension properties, according to their specific needs.</p>
<p>The Open API schema definition can be found <a href="https://zalando.github.io/problem/schema.yaml">on github</a>.
You can reference it by using:</p>
<div class="codehilite"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">responses</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">503</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Service Unavailable</span>
    <span class="l l-Scalar l-Scalar-Plain">schema</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">$ref</span><span class="p p-Indicator">:</span> <span class="s">&#39;https://zalando.github.io/problem/schema.yaml#/Problem&#39;</span>
</pre></div>

<h2 id="bookmust-do-not-expose-stack-traces">{{ book.must }} Do not expose Stack Traces<a class="headerlink" href="#bookmust-do-not-expose-stack-traces" title="Permanent link">&para;</a></h2>
<p>Stack traces contain implementation details that are not part of an API, and on which clients
should never rely. Moreover, stack traces can leak sensitive information that partners and third
parties are not allowed to receive and may disclose insights about vulnerabilities to attackers.</p>
<h2 id="data-formats">Data Formats<a class="headerlink" href="#data-formats" title="Permanent link">&para;</a></h2>
<h2 id="bookmust-use-json-to-encode-structured-data">{{ book.must }} Use JSON to Encode Structured Data<a class="headerlink" href="#bookmust-use-json-to-encode-structured-data" title="Permanent link">&para;</a></h2>
<p>Use JSON-encoded body payload for transferring structured data.
The JSON payload must follow <a href="https://tools.ietf.org/html/rfc7159">RFC-7159</a> by having
(if possible) a serialized object as the top-level structure, since it would allow for future extension.
This also applies for collection resources where one naturally would assume an array. See the
<a href="../pagination/Pagination.md#could-use-pagination-links-where-applicable">pagination</a> section for an example.</p>
<h2 id="bookmay-use-non-json-media-types-for-binary-data-or-alternative-content-representations">{{ book.may }} Use non JSON Media Types for Binary Data or Alternative Content Representations<a class="headerlink" href="#bookmay-use-non-json-media-types-for-binary-data-or-alternative-content-representations" title="Permanent link">&para;</a></h2>
<p>Other media types may be used in following cases:
* Transferring binary data or data whose structure is not relevant. This is the case if payload structure
is not interpreted and consumed by clients as is. Example of such use case is downloading images
in formats JPG, PNG, GIF.
* In addition to JSON version alternative data representations (e.g. in formats PDF, DOC, XML)
may be made available through content negotiation.</p>
<h2 id="bookmust-use-standard-date-and-time-formats">{{ book.must }} Use Standard Date and Time Formats<a class="headerlink" href="#bookmust-use-standard-date-and-time-formats" title="Permanent link">&para;</a></h2>
<h3 id="json-payload">JSON Payload<a class="headerlink" href="#json-payload" title="Permanent link">&para;</a></h3>
<p>Read more about date and time format in <a href="../json-guidelines/JsonGuidelines.md#date-property-values-should-conform-to-rfc-3399">Json Guideline</a>.</p>
<h3 id="http-headers">HTTP headers<a class="headerlink" href="#http-headers" title="Permanent link">&para;</a></h3>
<p>Http headers including the proprietary headers. Use the <a href="http://tools.ietf.org/html/rfc7231#section-7.1.1.1">HTTP date format defined in RFC 7231</a>.</p>
<h2 id="bookmay-use-standards-for-country-language-and-currency-codes">{{ book.may }} Use Standards for Country, Language and Currency Codes<a class="headerlink" href="#bookmay-use-standards-for-country-language-and-currency-codes" title="Permanent link">&para;</a></h2>
<p>Use the following standard formats for country, language and currency codes:</p>
<ul>
<li>
<p><a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO 3166-1-alpha2 country codes</a></p>
<ul>
<li>(It is “GB”, not “UK”, even though “UK” has seen some use at Zalando)</li>
</ul>
</li>
<li>
<p><a href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">ISO 639-1 language code</a></p>
<ul>
<li><a href="https://tools.ietf.org/html/bcp47">BCP-47</a> (based on ISO 639-1) for language variants</li>
</ul>
</li>
<li>
<p><a href="https://en.wikipedia.org/wiki/ISO_4217">ISO 4217 currency codes</a></p>
</li>
</ul>
<h2 id="bookmust-define-format-for-type-number-and-integer">{{ book.must }} Define Format for Type Number and Integer<a class="headerlink" href="#bookmust-define-format-for-type-number-and-integer" title="Permanent link">&para;</a></h2>
<p>Whenever an API defines a property of type <code>number</code> or <code>integer</code>, the precision must be defined by the format as follows to prevent clients from guessing the precision incorrectly, and thereby changing the value unintentionally:</p>
<table>
<thead>
<tr>
<th>type</th>
<th>format</th>
<th>specified value range</th>
</tr>
</thead>
<tbody>
<tr>
<td>integer</td>
<td>int32</td>
<td>integer between -2<sup>31</sup> and 2<sup>31</sup>-1</td>
</tr>
<tr>
<td>integer</td>
<td>int64</td>
<td>integer between -2<sup>63</sup> and 2<sup>63</sup>-1</td>
</tr>
<tr>
<td>integer</td>
<td>bigint</td>
<td>arbitrarily large signed integer number</td>
</tr>
<tr>
<td>number</td>
<td>float</td>
<td>IEEE 754-2008/ISO 60559:2011 binary64 decimal number</td>
</tr>
<tr>
<td>number</td>
<td>double</td>
<td>IEEE 754-2008/ISO 60559:2011 binary128 decimal number</td>
</tr>
<tr>
<td>number</td>
<td>decimal</td>
<td>arbitrarily precise signed decimal number</td>
</tr>
</tbody>
</table>
<p>The precision must be translated by clients and servers into the most specific language types. E.g. for the following definitions the most specific language types in Java will translate to <code>BigDecimal</code> for <code>Money.amount</code> and <code>int</code> or <code>Integer</code> for the <code>OrderList.page_size</code>:</p>
<div class="codehilite"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">Money</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">object</span>
  <span class="l l-Scalar l-Scalar-Plain">properties</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">amount</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">number</span>
      <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Amount expressed as a decimal number of major currency units</span>
      <span class="l l-Scalar l-Scalar-Plain">format</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">decimal</span>
      <span class="l l-Scalar l-Scalar-Plain">example</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">99.95</span>
  <span class=" -Error"> </span><span class="l l-Scalar l-Scalar-Plain">...</span>

<span class="l l-Scalar l-Scalar-Plain">OrderList</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">object</span>
  <span class="l l-Scalar l-Scalar-Plain">properties</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">pageSize</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">integer</span>
      <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Number of orders in list</span>
      <span class="l l-Scalar l-Scalar-Plain">format</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">int32</span>
      <span class="l l-Scalar l-Scalar-Plain">example</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">42</span>
</pre></div>

<h2 id="bookshould-prefer-standard-media-type-name-applicationjson">{{ book.should }} Prefer standard Media type name <code>application/json</code><a class="headerlink" href="#bookshould-prefer-standard-media-type-name-applicationjson" title="Permanent link">&para;</a></h2>
<p>Previously, this guideline allowed the use of custom media types like <code>application/x.zalando.article+json</code>.
This usage is not recommended anymore and should be avoided, except where it is necessary for cases
of <a href="../compatibility/Compatibility.md#must-use-media-type-versioning">media type versioning</a>. Instead, the standard media type name <code>application/json</code> (or <a href="http://zalando.github.io/restful-api-guidelines/common-data-types/CommonDataTypes.html#must-use-problem-json"><code>application/problem+json</code> for HTTP error details</a>) should be used for JSON-formatted data.</p>
<p>Custom media types with subtypes beginning with <code>x</code> bring no advantage compared to the standard media type for JSON, and make automated processing more difficult. They are also <a href="https://tools.ietf.org/html/rfc6838#section-3.4">discouraged by RFC 6838</a>.</p>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../http-method-mapping/" title="Http Method Mapping" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Http Method Mapping
              </span>
            </div>
          </a>
        
        
          <a href="../../api-docs-template/" title="Sample API Docs" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Sample API Docs
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2017 9ci Inc
          </div>
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.js"></script>
      
      
      <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
      <script>window.mdc.autoInit()</script>
      <script src="https://cdn.jsdelivr.net/jquery.loadingoverlay/latest/loadingoverlay.min.js"></script>
      <script src="https://r.office.microsoft.com/r/rlidExcelWLJS?v=1&kip=1"></script>
      <script src="../../assets/javascripts/jq-mdc-web.js"></script>
      <script>app.initialize({url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>